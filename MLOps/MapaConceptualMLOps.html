<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLOps - Mapa Mental Interactivo</title>
    <style>
        :root {
            /* Paleta de colores profesional */
            --prussian-blue: #012a4a;
            --indigo-dye: #013a63;
            --indigo-dye-2: #01497c;
            --indigo-dye-3: #014f86;
            --ucla-blue: #2a6f97;
            --cerulean: #2c7da0;
            --air-force-blue: #468faf;
            --air-superiority-blue: #61a5c2;
            --sky-blue: #89c2d9;
            --light-blue: #a9d6e5;
            
            /* Gradientes suaves */
            --gradient-radial: radial-gradient(circle, #a9d6e5, #89c2d9, #61a5c2, #468faf, #2c7da0, #2a6f97, #014f86, #01497c, #013a63, #012a4a);
            --gradient-node: linear-gradient(135deg, #2c7da0, #468faf);
            --gradient-hover: linear-gradient(135deg, #468faf, #61a5c2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--gradient-radial);
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Canvas principal */
        #mindmap-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            cursor: grab;
            overflow: hidden;
        }

        #mindmap-container:active {
            cursor: grabbing;
        }

        #mindmap-canvas {
            position: absolute;
            width: 300%;
            height: 300%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: transform 0.3s ease;
        }

        /* SVG para conexiones */
        #connections-svg {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 5;
        }

        .branch-path {
            fill: none;
            stroke: var(--light-blue);
            stroke-width: 3;
            stroke-linecap: round;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .branch-path:hover {
            stroke-width: 5;
            opacity: 1;
        }

        /* Nodo central */
        .central-node {
            position: absolute;
            width: 200px;
            height: 200px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: var(--gradient-radial);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 28px;
            font-weight: bold;
            box-shadow: 0 20px 60px rgba(1, 42, 74, 0.6);
            z-index: 100;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 5px solid var(--light-blue);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 20px 60px rgba(1, 42, 74, 0.6);
                transform: translate(-50%, -50%) scale(1);
            }
            50% { 
                box-shadow: 0 25px 80px rgba(1, 42, 74, 0.8);
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        .central-node:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 30px 90px rgba(1, 42, 74, 0.8);
        }

        .central-node-subtitle {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 8px;
        }

        /* Nodos principales (Nivel 1) */
        .main-branch {
            position: absolute;
            width: 160px;
            height: 100px;
            background: linear-gradient(135deg, var(--cerulean), var(--air-force-blue));
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(1, 58, 99, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 50;
            padding: 15px;
            text-align: center;
            border: 3px solid var(--sky-blue);
        }

        .main-branch:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 15px 40px rgba(1, 58, 99, 0.6);
            background: linear-gradient(135deg, var(--air-force-blue), var(--air-superiority-blue));
        }

        .main-branch-title {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .main-branch-count {
            font-size: 12px;
            opacity: 0.8;
        }

        /* Sub-nodos (Nivel 2) */
        .sub-branch {
            position: absolute;
            width: 140px;
            min-height: 70px;
            background: linear-gradient(135deg, var(--air-superiority-blue), var(--sky-blue));
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--prussian-blue);
            font-size: 13px;
            font-weight: 500;
            box-shadow: 0 5px 20px rgba(42, 111, 151, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 30;
            padding: 10px;
            text-align: center;
            opacity: 0;
            animation: fadeInScale 0.5s forwards;
            border: 2px solid var(--light-blue);
        }

        @keyframes fadeInScale {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .sub-branch:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 25px rgba(42, 111, 151, 0.5);
            background: linear-gradient(135deg, var(--sky-blue), var(--light-blue));
        }

        /* Panel de información expandible */
        .info-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 25px 80px rgba(1, 42, 74, 0.3);
            z-index: 1000;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid var(--cerulean);
        }

        .info-panel.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .info-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--sky-blue);
        }

        .info-panel-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--prussian-blue);
        }

        .close-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--gradient-node);
            color: white;
            border: none;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: var(--gradient-hover);
            transform: rotate(90deg);
        }

        .info-panel-content {
            color: var(--indigo-dye);
            line-height: 1.8;
        }

        .info-panel-content h3 {
            color: var(--indigo-dye-3);
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .info-panel-content ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .info-panel-content li {
            margin: 8px 0;
            position: relative;
            padding-left: 20px;
        }

        .info-panel-content li:before {
            content: "▸";
            position: absolute;
            left: 0;
            color: var(--cerulean);
            font-weight: bold;
        }

        /* Panel de controles */
        .controls-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 40px rgba(1, 42, 74, 0.2);
            z-index: 500;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-btn {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            background: var(--gradient-node);
            color: white;
            border: none;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: var(--gradient-hover);
            transform: scale(1.1);
        }

        /* Panel de búsqueda */
        .search-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 40px rgba(1, 42, 74, 0.2);
            z-index: 500;
        }

        .search-input {
            width: 250px;
            padding: 12px 20px;
            border: 2px solid var(--sky-blue);
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: var(--cerulean);
            box-shadow: 0 0 0 3px rgba(44, 125, 160, 0.1);
        }

        /* Leyenda */
        .legend {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(1, 42, 74, 0.2);
            z-index: 500;
            max-width: 250px;
        }

        .legend-title {
            font-weight: bold;
            color: var(--prussian-blue);
            margin-bottom: 15px;
            font-size: 16px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            font-size: 13px;
            color: var(--indigo-dye);
        }

        .legend-color {
            width: 25px;
            height: 25px;
            border-radius: 5px;
            margin-right: 12px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Tooltip */
        .tooltip {
            position: fixed;
            background: var(--prussian-blue);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: 200px;
            text-align: center;
        }

        .tooltip.active {
            opacity: 1;
        }

        .tooltip::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--prussian-blue) transparent transparent transparent;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(1, 42, 74, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Animación de conexiones */
        @keyframes dashAnimation {
            to {
                stroke-dashoffset: 0;
            }
        }

        .animated-path {
            stroke-dasharray: 10 5;
            stroke-dashoffset: 15;
            animation: dashAnimation 20s linear infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .search-panel {
                top: auto;
                bottom: 100px;
                left: 50%;
                transform: translateX(-50%);
            }

            .controls-panel {
                flex-direction: row;
                top: auto;
                bottom: 20px;
                right: 50%;
                transform: translateX(50%);
            }

            .legend {
                display: none;
            }
        }

        /* Header informativo */
        .header {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 5px 20px rgba(1, 42, 74, 0.1);
            z-index: 500;
            text-align: center;
        }

        .header-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--prussian-blue);
        }

        .header-subtitle {
            font-size: 13px;
            color: var(--ucla-blue);
            margin-top: 5px;
        }

        /* Estilos para nodos destacados */
        .highlighted {
            animation: highlight 1s ease infinite;
        }

        @keyframes highlight {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 10px 30px rgba(1, 58, 99, 0.4);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 15px 50px rgba(255, 200, 0, 0.6);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-title">MLOps - Machine Learning Operations</div>
        <div class="header-subtitle">Mapa Mental Interactivo - Haz clic en cualquier nodo para explorar</div>
    </div>

    <!-- Panel de búsqueda -->
    <div class="search-panel">
        <input type="text" class="search-input" placeholder="🔍 Buscar concepto..." id="searchInput">
    </div>

    <!-- Panel de controles -->
    <div class="controls-panel">
        <button class="control-btn" id="zoomIn" title="Acercar">+</button>
        <button class="control-btn" id="zoomOut" title="Alejar">−</button>
        <button class="control-btn" id="resetView" title="Vista inicial">⟲</button>
        <button class="control-btn" id="expandAll" title="Expandir todo">⤴</button>
        <button class="control-btn" id="collapseAll" title="Colapsar todo">⤵</button>
    </div>

    <!-- Leyenda -->
    <div class="legend">
        <div class="legend-title">Leyenda del Mapa</div>
        <div class="legend-item">
            <div class="legend-color" style="background: var(--gradient-radial);"></div>
            <span>Concepto Central</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, var(--cerulean), var(--air-force-blue));"></div>
            <span>Ramas Principales</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, var(--air-superiority-blue), var(--sky-blue));"></div>
            <span>Sub-conceptos</span>
        </div>
    </div>

    <!-- Canvas principal -->
    <div id="mindmap-container">
        <div id="mindmap-canvas">
            <svg id="connections-svg"></svg>
            
            <!-- Nodo central -->
            <div class="central-node" id="central-mlops">
                <div>MLOps</div>
                <div class="central-node-subtitle">Machine Learning Operations</div>
            </div>
        </div>
    </div>

    <!-- Panel de información -->
    <div class="info-panel" id="infoPanel">
        <div class="info-panel-header">
            <div class="info-panel-title" id="infoPanelTitle">Título</div>
            <button class="close-btn" id="closeInfoPanel">×</button>
        </div>
        <div class="info-panel-content" id="infoPanelContent">
            <!-- Contenido dinámico -->
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>

    <script>
        // Estructura de datos del mapa mental MLOps
        const mlopsData = {
            central: {
                id: 'mlops',
                title: 'MLOps',
                subtitle: 'Machine Learning Operations',
                description: `MLOps es un conjunto de prácticas que combina Machine Learning, DevOps e Ingeniería de Datos para implementar y mantener sistemas ML en producción de manera confiable y eficiente.`,
                details: {
                    definicion: 'MLOps (Machine Learning Operations) es una disciplina que se enfoca en la colaboración y comunicación entre científicos de datos y profesionales de operaciones.',
                    objetivo: 'Facilitar el despliegue, monitoreo y mantenimiento de modelos de ML en producción.',
                    beneficios: [
                        'Reducción del tiempo de desarrollo',
                        'Mejora en la calidad del modelo',
                        'Mayor colaboración entre equipos',
                        'Automatización de procesos repetitivos',
                        'Mejor gobernanza y cumplimiento'
                    ]
                }
            },
            branches: [
                {
                    id: 'roles',
                    title: 'Roles y Equipos',
                    angle: 0,
                    color: 'linear-gradient(135deg, #014f86, #2a6f97)',
                    description: 'Profesionales clave en MLOps',
                    subBranches: [
                        {
                            id: 'data-scientist',
                            title: 'Data Scientist',
                            description: 'Desarrolla y experimenta con modelos ML',
                            details: {
                                responsabilidades: [
                                    'Exploración y análisis de datos',
                                    'Desarrollo de modelos ML',
                                    'Experimentación y validación',
                                    'Optimización de hiperparámetros',
                                    'Documentación de modelos'
                                ],
                                habilidades: [
                                    'Python/R',
                                    'Estadística y matemáticas',
                                    'Frameworks ML (TensorFlow, PyTorch)',
                                    'Visualización de datos',
                                    'Comunicación técnica'
                                ]
                            }
                        },
                        {
                            id: 'ml-engineer',
                            title: 'ML Engineer',
                            description: 'Productiza y optimiza modelos ML',
                            details: {
                                responsabilidades: [
                                    'Productización de modelos',
                                    'Optimización de rendimiento',
                                    'Creación de pipelines ML',
                                    'Integración con sistemas',
                                    'Escalamiento de soluciones'
                                ],
                                habilidades: [
                                    'Ingeniería de software',
                                    'Cloud computing',
                                    'Containerización (Docker)',
                                    'Orquestación (Kubernetes)',
                                    'CI/CD para ML'
                                ]
                            }
                        },
                        {
                            id: 'data-engineer',
                            title: 'Data Engineer',
                            description: 'Construye y mantiene infraestructura de datos',
                            details: {
                                responsabilidades: [
                                    'Diseño de arquitectura de datos',
                                    'ETL/ELT pipelines',
                                    'Gestión de data warehouses',
                                    'Calidad y gobernanza de datos',
                                    'Optimización de consultas'
                                ],
                                habilidades: [
                                    'SQL y NoSQL',
                                    'Apache Spark',
                                    'Airflow',
                                    'Cloud data services',
                                    'Streaming de datos'
                                ]
                            }
                        },
                        {
                            id: 'devops-engineer',
                            title: 'DevOps Engineer',
                            description: 'Automatiza y gestiona infraestructura',
                            details: {
                                responsabilidades: [
                                    'CI/CD pipelines',
                                    'Gestión de infraestructura',
                                    'Monitoreo y logging',
                                    'Seguridad y compliance',
                                    'Automatización de procesos'
                                ],
                                habilidades: [
                                    'Infrastructure as Code',
                                    'Terraform/CloudFormation',
                                    'Jenkins/GitLab CI',
                                    'Monitoring tools',
                                    'Scripting (Bash, Python)'
                                ]
                            }
                        },
                        {
                            id: 'ml-architect',
                            title: 'ML Architect',
                            description: 'Diseña la arquitectura general de ML',
                            details: {
                                responsabilidades: [
                                    'Diseño de arquitectura end-to-end',
                                    'Selección de tecnologías',
                                    'Definición de estándares',
                                    'Estrategia de escalamiento',
                                    'Roadmap técnico'
                                ],
                                habilidades: [
                                    'Arquitectura de sistemas',
                                    'Evaluación tecnológica',
                                    'Liderazgo técnico',
                                    'Visión estratégica',
                                    'Comunicación ejecutiva'
                                ]
                            }
                        }
                    ]
                },
                {
                    id: 'lifecycle',
                    title: 'Ciclo de Vida',
                    angle: 72,
                    color: 'linear-gradient(135deg, #2a6f97, #2c7da0)',
                    description: 'Fases del desarrollo ML',
                    subBranches: [
                        {
                            id: 'design',
                            title: '1. Diseño',
                            description: 'Definición del problema y requisitos',
                            details: {
                                actividades: [
                                    'Comprensión del problema de negocio',
                                    'Definición de métricas de éxito',
                                    'Análisis de viabilidad',
                                    'Diseño de arquitectura inicial',
                                    'Planificación de recursos'
                                ],
                                entregables: [
                                    'Documento de requisitos',
                                    'Métricas de evaluación',
                                    'Arquitectura propuesta',
                                    'Plan de proyecto'
                                ]
                            }
                        },
                        {
                            id: 'data-prep',
                            title: '2. Preparación de Datos',
                            description: 'Recolección y procesamiento de datos',
                            details: {
                                actividades: [
                                    'Identificación de fuentes de datos',
                                    'Recolección de datos',
                                    'Limpieza y transformación',
                                    'Feature engineering',
                                    'Versionado de datasets'
                                ],
                                herramientas: [
                                    'Apache Spark',
                                    'Pandas',
                                    'DVC (Data Version Control)',
                                    'Great Expectations',
                                    'Apache Airflow'
                                ]
                            }
                        },
                        {
                            id: 'model-dev',
                            title: '3. Desarrollo del Modelo',
                            description: 'Experimentación y entrenamiento',
                            details: {
                                actividades: [
                                    'Selección de algoritmos',
                                    'Entrenamiento de modelos',
                                    'Validación cruzada',
                                    'Optimización de hiperparámetros',
                                    'Comparación de modelos'
                                ],
                                herramientas: [
                                    'MLflow',
                                    'Weights & Biases',
                                    'TensorBoard',
                                    'Optuna',
                                    'Ray Tune'
                                ]
                            }
                        },
                        {
                            id: 'validation',
                            title: '4. Validación',
                            description: 'Testing y aseguramiento de calidad',
                            details: {
                                tipos_validacion: [
                                    'Validación offline',
                                    'A/B testing',
                                    'Shadow deployment',
                                    'Canary releases',
                                    'Blue-green deployment'
                                ],
                                metricas: [
                                    'Accuracy, Precision, Recall',
                                    'F1-Score, AUC-ROC',
                                    'Business metrics',
                                    'Latencia y throughput',
                                    'Uso de recursos'
                                ]
                            }
                        },
                        {
                            id: 'deployment',
                            title: '5. Despliegue',
                            description: 'Puesta en producción',
                            details: {
                                estrategias: [
                                    'Batch serving',
                                    'Real-time serving',
                                    'Edge deployment',
                                    'Embedded models',
                                    'API endpoints'
                                ],
                                tecnologias: [
                                    'Docker/Kubernetes',
                                    'TensorFlow Serving',
                                    'TorchServe',
                                    'Seldon Core',
                                    'KServe'
                                ]
                            }
                        },
                        {
                            id: 'monitoring',
                            title: '6. Monitoreo',
                            description: 'Observabilidad y mantenimiento',
                            details: {
                                aspectos_monitoreo: [
                                    'Model performance',
                                    'Data drift detection',
                                    'Concept drift',
                                    'System metrics',
                                    'Business KPIs'
                                ],
                                herramientas: [
                                    'Prometheus/Grafana',
                                    'Evidently AI',
                                    'Alibi Detect',
                                    'WhyLabs',
                                    'Arize AI'
                                ]
                            }
                        }
                    ]
                },
                {
                    id: 'practices',
                    title: 'Prácticas Clave',
                    angle: 144,
                    color: 'linear-gradient(135deg, #2c7da0, #468faf)',
                    description: 'Mejores prácticas en MLOps',
                    subBranches: [
                        {
                            id: 'version-control',
                            title: 'Control de Versiones',
                            description: 'Gestión de código, datos y modelos',
                            details: {
                                componentes: [
                                    'Git para código',
                                    'DVC para datos',
                                    'MLflow para modelos',
                                    'Registro de experimentos',
                                    'Trazabilidad completa'
                                ],
                                beneficios: [
                                    'Reproducibilidad',
                                    'Colaboración efectiva',
                                    'Rollback capability',
                                    'Auditoría',
                                    'Gestión de cambios'
                                ]
                            }
                        },
                        {
                            id: 'automation',
                            title: 'Automatización',
                            description: 'CI/CD para Machine Learning',
                            details: {
                                pipelines: [
                                    'Data validation pipeline',
                                    'Training pipeline',
                                    'Model validation pipeline',
                                    'Deployment pipeline',
                                    'Monitoring pipeline'
                                ],
                                herramientas: [
                                    'Jenkins',
                                    'GitLab CI/CD',
                                    'GitHub Actions',
                                    'Kubeflow Pipelines',
                                    'Apache Airflow'
                                ]
                            }
                        },
                        {
                            id: 'reproducibility',
                            title: 'Reproducibilidad',
                            description: 'Capacidad de recrear resultados',
                            details: {
                                elementos: [
                                    'Seeds aleatorios fijos',
                                    'Entornos containerizados',
                                    'Versiones de dependencias',
                                    'Configuración como código',
                                    'Documentación detallada'
                                ],
                                herramientas: [
                                    'Docker',
                                    'Poetry/Pipenv',
                                    'Conda environments',
                                    'Requirements.txt',
                                    'Make files'
                                ]
                            }
                        },
                        {
                            id: 'testing',
                            title: 'Testing ML',
                            description: 'Pruebas específicas para ML',
                            details: {
                                tipos_tests: [
                                    'Unit tests para código',
                                    'Data validation tests',
                                    'Model quality tests',
                                    'Integration tests',
                                    'Performance tests'
                                ],
                                frameworks: [
                                    'pytest',
                                    'Great Expectations',
                                    'Deepchecks',
                                    'TensorFlow Data Validation',
                                    'Locust (load testing)'
                                ]
                            }
                        },
                        {
                            id: 'governance',
                            title: 'Gobernanza',
                            description: 'Cumplimiento y ética en ML',
                            details: {
                                aspectos: [
                                    'Model explainability',
                                    'Fairness and bias detection',
                                    'Privacy (GDPR, CCPA)',
                                    'Model documentation',
                                    'Access control and audit'
                                ],
                                herramientas: [
                                    'SHAP',
                                    'LIME',
                                    'Fairlearn',
                                    'Model cards',
                                    'Differential privacy'
                                ]
                            }
                        }
                    ]
                },
                {
                    id: 'tools',
                    title: 'Herramientas',
                    angle: 216,
                    color: 'linear-gradient(135deg, #468faf, #61a5c2)',
                    description: 'Stack tecnológico de MLOps',
                    subBranches: [
                        {
                            id: 'experiment-tracking',
                            title: 'Tracking de Experimentos',
                            description: 'Gestión de experimentos ML',
                            details: {
                                plataformas: [
                                    'MLflow - Open source platform',
                                    'Weights & Biases - SaaS solution',
                                    'Neptune.ai - Metadata store',
                                    'Comet ML - Experiment management',
                                    'TensorBoard - Visualization'
                                ],
                                funcionalidades: [
                                    'Logging de métricas',
                                    'Versionado de modelos',
                                    'Comparación de runs',
                                    'Visualización de resultados',
                                    'Colaboración en equipo'
                                ]
                            }
                        },
                        {
                            id: 'orchestration',
                            title: 'Orquestación',
                            description: 'Gestión de workflows ML',
                            details: {
                                herramientas: [
                                    'Apache Airflow - DAG-based',
                                    'Kubeflow - Kubernetes-native',
                                    'Prefect - Modern dataflow',
                                    'Dagster - Data orchestrator',
                                    'Argo Workflows - K8s workflows'
                                ],
                                casos_uso: [
                                    'ETL pipelines',
                                    'Training pipelines',
                                    'Batch predictions',
                                    'Data validation',
                                    'Model retraining'
                                ]
                            }
                        },
                        {
                            id: 'serving',
                            title: 'Model Serving',
                            description: 'Infraestructura de inferencia',
                            details: {
                                plataformas: [
                                    'TensorFlow Serving',
                                    'TorchServe',
                                    'Seldon Core',
                                    'KServe (KFServing)',
                                    'BentoML'
                                ],
                                características: [
                                    'REST/gRPC APIs',
                                    'Batch processing',
                                    'Model versioning',
                                    'A/B testing',
                                    'Auto-scaling'
                                ]
                            }
                        },
                        {
                            id: 'feature-store',
                            title: 'Feature Store',
                            description: 'Gestión centralizada de features',
                            details: {
                                soluciones: [
                                    'Feast - Open source',
                                    'Tecton - Enterprise',
                                    'AWS SageMaker Feature Store',
                                    'Databricks Feature Store',
                                    'Hopsworks'
                                ],
                                beneficios: [
                                    'Reutilización de features',
                                    'Consistencia training-serving',
                                    'Feature discovery',
                                    'Time travel',
                                    'Feature monitoring'
                                ]
                            }
                        },
                        {
                            id: 'monitoring-tools',
                            title: 'Herramientas de Monitoreo',
                            description: 'Observabilidad ML',
                            details: {
                                plataformas: [
                                    'Evidently AI - Drift detection',
                                    'WhyLabs - ML observability',
                                    'Arize AI - Performance monitoring',
                                    'Fiddler AI - Explainable monitoring',
                                    'Superwise - Model assurance'
                                ],
                                métricas: [
                                    'Model performance metrics',
                                    'Data quality metrics',
                                    'Drift metrics',
                                    'Business metrics',
                                    'System metrics'
                                ]
                            }
                        }
                    ]
                },
                {
                    id: 'challenges',
                    title: 'Desafíos',
                    angle: 288,
                    color: 'linear-gradient(135deg, #61a5c2, #89c2d9)',
                    description: 'Retos principales en MLOps',
                    subBranches: [
                        {
                            id: 'data-drift',
                            title: 'Data & Concept Drift',
                            description: 'Cambios en distribución de datos',
                            details: {
                                tipos: [
                                    'Covariate shift',
                                    'Prior probability shift',
                                    'Concept drift',
                                    'Seasonal patterns',
                                    'Data quality degradation'
                                ],
                                soluciones: [
                                    'Continuous monitoring',
                                    'Automated retraining',
                                    'Drift detection algorithms',
                                    'Feature importance tracking',
                                    'A/B testing strategies'
                                ]
                            }
                        },
                        {
                            id: 'technical-debt',
                            title: 'Deuda Técnica ML',
                            description: 'Complejidad acumulada en sistemas ML',
                            details: {
                                fuentes: [
                                    'Código experimental en producción',
                                    'Pipelines no documentados',
                                    'Dependencias ocultas',
                                    'Configuraciones mágicas',
                                    'Modelos legacy'
                                ],
                                mitigación: [
                                    'Refactoring regular',
                                    'Documentación exhaustiva',
                                    'Code reviews',
                                    'Testing comprehensivo',
                                    'Arquitectura modular'
                                ]
                            }
                        },
                        {
                            id: 'scalability',
                            title: 'Escalabilidad',
                            description: 'Crecimiento de sistemas ML',
                            details: {
                                dimensiones: [
                                    'Volumen de datos',
                                    'Número de modelos',
                                    'Frecuencia de retraining',
                                    'Throughput de inferencia',
                                    'Número de usuarios'
                                ],
                                estrategias: [
                                    'Arquitectura microservicios',
                                    'Horizontal scaling',
                                    'Caching strategies',
                                    'Load balancing',
                                    'Distributed training'
                                ]
                            }
                        },
                        {
                            id: 'team-collaboration',
                            title: 'Colaboración entre Equipos',
                            description: 'Alineación Data Science y Ops',
                            details: {
                                desafíos: [
                                    'Diferentes skill sets',
                                    'Objetivos divergentes',
                                    'Herramientas incompatibles',
                                    'Comunicación técnica',
                                    'Ownership unclear'
                                ],
                                soluciones: [
                                    'DevOps culture',
                                    'Cross-functional teams',
                                    'Shared KPIs',
                                    'Common tooling',
                                    'Regular sync meetings'
                                ]
                            }
                        },
                        {
                            id: 'compliance',
                            title: 'Cumplimiento Regulatorio',
                            description: 'Regulaciones y ética en ML',
                            details: {
                                regulaciones: [
                                    'GDPR (Europa)',
                                    'CCPA (California)',
                                    'AI Act (EU)',
                                    'Sector-specific (HIPAA, PCI-DSS)',
                                    'Fairness regulations'
                                ],
                                implementación: [
                                    'Privacy by design',
                                    'Model explainability',
                                    'Audit trails',
                                    'Data governance',
                                    'Bias testing'
                                ]
                            }
                        }
                    ]
                }
            ]
        };

        // Variables globales
        let canvas, svg;
        let scale = 1;
        let translateX = 0, translateY = 0;
        let isDragging = false;
        let dragStart = { x: 0, y: 0 };
        let dragOffset = { x: 0, y: 0 };
        let expandedBranches = new Set();

        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            canvas = document.getElementById('mindmap-canvas');
            svg = document.getElementById('connections-svg');
            
            initializeMindMap();
            setupEventListeners();
            drawConnections();
            
            // Expandir todas las ramas inicialmente
            setTimeout(() => {
                mlopsData.branches.forEach(branch => {
                    expandBranch(branch.id);
                });
            }, 500);
        });

        // Inicializar el mapa mental
        function initializeMindMap() {
            const container = document.getElementById('mindmap-container');
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;

            // Crear ramas principales
            mlopsData.branches.forEach((branch, index) => {
                const radius = 300;
                const angleRad = (branch.angle * Math.PI) / 180;
                const x = centerX + Math.cos(angleRad) * radius;
                const y = centerY + Math.sin(angleRad) * radius;

                createMainBranch(branch, x, y);
            });
        }

        // Crear rama principal
        function createMainBranch(branch, x, y) {
            const node = document.createElement('div');
            node.className = 'main-branch';
            node.id = branch.id;
            node.style.left = x - 80 + 'px';
            node.style.top = y - 50 + 'px';
            node.style.background = branch.color;
            node.innerHTML = `
                <div class="main-branch-title">${branch.title}</div>
                <div class="main-branch-count">${branch.subBranches.length} conceptos</div>
            `;
            
            node.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleBranch(branch.id);
            });
            
            node.addEventListener('mouseenter', (e) => {
                showTooltip(e, branch.description);
            });
            
            node.addEventListener('mouseleave', hideTooltip);
            
            canvas.appendChild(node);
        }

        // Expandir/Colapsar rama
        function toggleBranch(branchId) {
            if (expandedBranches.has(branchId)) {
                collapseBranch(branchId);
            } else {
                expandBranch(branchId);
            }
        }

        // Expandir rama
        function expandBranch(branchId) {
            const branch = mlopsData.branches.find(b => b.id === branchId);
            if (!branch) return;

            expandedBranches.add(branchId);
            const mainNode = document.getElementById(branchId);
            const rect = mainNode.getBoundingClientRect();
            const containerRect = canvas.getBoundingClientRect();
            const centerX = rect.left - containerRect.left + rect.width / 2;
            const centerY = rect.top - containerRect.top + rect.height / 2;

            branch.subBranches.forEach((subBranch, index) => {
                const subRadius = 150;
                const startAngle = branch.angle - 30;
                const angleStep = 60 / (branch.subBranches.length - 1 || 1);
                const angle = startAngle + angleStep * index;
                const angleRad = (angle * Math.PI) / 180;
                
                const x = centerX + Math.cos(angleRad) * subRadius;
                const y = centerY + Math.sin(angleRad) * subRadius;

                createSubBranch(subBranch, x, y, index * 100);
            });

            drawConnections();
        }

        // Colapsar rama
        function collapseBranch(branchId) {
            expandedBranches.delete(branchId);
            const branch = mlopsData.branches.find(b => b.id === branchId);
            if (!branch) return;

            branch.subBranches.forEach(subBranch => {
                const node = document.getElementById(subBranch.id);
                if (node) {
                    node.style.opacity = '0';
                    setTimeout(() => node.remove(), 300);
                }
            });

            drawConnections();
        }

        // Crear sub-rama
        function createSubBranch(subBranch, x, y, delay) {
            setTimeout(() => {
                const node = document.createElement('div');
                node.className = 'sub-branch';
                node.id = subBranch.id;
                node.style.left = x - 70 + 'px';
                node.style.top = y - 35 + 'px';
                node.innerHTML = subBranch.title;
                node.style.animationDelay = delay + 'ms';
                
                node.addEventListener('click', (e) => {
                    e.stopPropagation();
                    showInfoPanel(subBranch);
                });
                
                node.addEventListener('mouseenter', (e) => {
                    showTooltip(e, subBranch.description);
                });
                
                node.addEventListener('mouseleave', hideTooltip);
                
                canvas.appendChild(node);
            }, delay);
        }

        // Dibujar conexiones
        function drawConnections() {
            svg.innerHTML = '';
            svg.setAttribute('viewBox', `0 0 ${canvas.offsetWidth} ${canvas.offsetHeight}`);

            // Conexiones del centro a las ramas principales
            const centralNode = document.getElementById('central-mlops');
            const centralRect = centralNode.getBoundingClientRect();
            const containerRect = canvas.getBoundingClientRect();
            const centralX = centralRect.left - containerRect.left + centralRect.width / 2;
            const centralY = centralRect.top - containerRect.top + centralRect.height / 2;

            mlopsData.branches.forEach(branch => {
                const branchNode = document.getElementById(branch.id);
                if (branchNode) {
                    const branchRect = branchNode.getBoundingClientRect();
                    const branchX = branchRect.left - containerRect.left + branchRect.width / 2;
                    const branchY = branchRect.top - containerRect.top + branchRect.height / 2;

                    drawCurvedPath(centralX, centralY, branchX, branchY, 'main');

                    // Conexiones a sub-ramas si están expandidas
                    if (expandedBranches.has(branch.id)) {
                        branch.subBranches.forEach(subBranch => {
                            const subNode = document.getElementById(subBranch.id);
                            if (subNode) {
                                const subRect = subNode.getBoundingClientRect();
                                const subX = subRect.left - containerRect.left + subRect.width / 2;
                                const subY = subRect.top - containerRect.top + subRect.height / 2;

                                drawCurvedPath(branchX, branchY, subX, subY, 'sub');
                            }
                        });
                    }
                }
            });
        }

        // Dibujar camino curvo
        function drawCurvedPath(x1, y1, x2, y2, type) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            
            const dx = x2 - x1;
            const dy = y2 - y1;
            const dr = Math.sqrt(dx * dx + dy * dy);
            
            const sweep = 0; // 0 or 1
            const largeArc = 0; // 0 or 1
            
            const controlX = (x1 + x2) / 2 + dy * 0.2;
            const controlY = (y1 + y2) / 2 - dx * 0.2;
            
            const d = `M ${x1},${y1} Q ${controlX},${controlY} ${x2},${y2}`;
            
            path.setAttribute('d', d);
            path.setAttribute('class', `branch-path ${type === 'main' ? 'animated-path' : ''}`);
            if (type === 'main') {
                path.style.strokeWidth = '4';
                path.style.stroke = 'var(--sky-blue)';
            } else {
                path.style.strokeWidth = '2';
                path.style.stroke = 'var(--light-blue)';
                path.style.opacity = '0.5';
            }
            
            svg.appendChild(path);
        }

        // Mostrar panel de información
        function showInfoPanel(data) {
            const panel = document.getElementById('infoPanel');
            const overlay = document.getElementById('overlay');
            const title = document.getElementById('infoPanelTitle');
            const content = document.getElementById('infoPanelContent');

            title.textContent = data.title;
            
            let html = `<p>${data.description}</p>`;
            
            if (data.details) {
                Object.entries(data.details).forEach(([key, value]) => {
                    const formattedKey = key.replace(/_/g, ' ')
                        .replace(/\b\w/g, l => l.toUpperCase());
                    
                    html += `<h3>${formattedKey}</h3>`;
                    
                    if (Array.isArray(value)) {
                        html += '<ul>';
                        value.forEach(item => {
                            html += `<li>${item}</li>`;
                        });
                        html += '</ul>';
                    } else {
                        html += `<p>${value}</p>`;
                    }
                });
            }
            
            content.innerHTML = html;
            
            panel.classList.add('active');
            overlay.classList.add('active');
        }

        // Ocultar panel de información
        function hideInfoPanel() {
            const panel = document.getElementById('infoPanel');
            const overlay = document.getElementById('overlay');
            
            panel.classList.remove('active');
            overlay.classList.remove('active');
        }

        // Mostrar tooltip
        function showTooltip(event, text) {
            const tooltip = document.getElementById('tooltip');
            tooltip.textContent = text;
            tooltip.style.left = event.pageX + 'px';
            tooltip.style.top = (event.pageY - 40) + 'px';
            tooltip.classList.add('active');
        }

        // Ocultar tooltip
        function hideTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.classList.remove('active');
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Botón cerrar panel
            document.getElementById('closeInfoPanel').addEventListener('click', hideInfoPanel);
            document.getElementById('overlay').addEventListener('click', hideInfoPanel);

            // Nodo central
            document.getElementById('central-mlops').addEventListener('click', () => {
                const data = {
                    title: mlopsData.central.title,
                    description: mlopsData.central.description,
                    details: mlopsData.central.details
                };
                showInfoPanel(data);
            });

            // Controles de zoom
            document.getElementById('zoomIn').addEventListener('click', () => {
                scale = Math.min(scale * 1.2, 3);
                updateTransform();
            });

            document.getElementById('zoomOut').addEventListener('click', () => {
                scale = Math.max(scale / 1.2, 0.5);
                updateTransform();
            });

            document.getElementById('resetView').addEventListener('click', () => {
                scale = 1;
                translateX = 0;
                translateY = 0;
                updateTransform();
            });

            // Expandir/Colapsar todo
            document.getElementById('expandAll').addEventListener('click', () => {
                mlopsData.branches.forEach(branch => {
                    if (!expandedBranches.has(branch.id)) {
                        expandBranch(branch.id);
                    }
                });
            });

            document.getElementById('collapseAll').addEventListener('click', () => {
                mlopsData.branches.forEach(branch => {
                    if (expandedBranches.has(branch.id)) {
                        collapseBranch(branch.id);
                    }
                });
            });

            // Búsqueda
            document.getElementById('searchInput').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                highlightSearchResults(searchTerm);
            });

            // Drag del canvas
            const container = document.getElementById('mindmap-container');
            
            container.addEventListener('mousedown', startDrag);
            container.addEventListener('mousemove', drag);
            container.addEventListener('mouseup', endDrag);
            container.addEventListener('mouseleave', endDrag);

            // Touch events
            container.addEventListener('touchstart', startDrag);
            container.addEventListener('touchmove', drag);
            container.addEventListener('touchend', endDrag);

            // Wheel zoom
            container.addEventListener('wheel', (e) => {
                e.preventDefault();
                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                scale = Math.min(Math.max(scale * delta, 0.5), 3);
                updateTransform();
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    hideInfoPanel();
                }
                if (e.ctrlKey || e.metaKey) {
                    if (e.key === '=') {
                        e.preventDefault();
                        scale = Math.min(scale * 1.2, 3);
                        updateTransform();
                    }
                    if (e.key === '-') {
                        e.preventDefault();
                        scale = Math.max(scale / 1.2, 0.5);
                        updateTransform();
                    }
                    if (e.key === '0') {
                        e.preventDefault();
                        scale = 1;
                        translateX = 0;
                        translateY = 0;
                        updateTransform();
                    }
                }
            });
        }

        // Funciones de arrastre
        function startDrag(e) {
            if (e.target.classList.contains('main-branch') || 
                e.target.classList.contains('sub-branch') ||
                e.target.classList.contains('central-node')) {
                return;
            }

            isDragging = true;
            const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
            const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;

            dragStart = { x: clientX, y: clientY };
            dragOffset = { x: translateX, y: translateY };
        }

        function drag(e) {
            if (!isDragging) return;
            
            e.preventDefault();
            
            const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
            const clientY = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;

            translateX = dragOffset.x + (clientX - dragStart.x);
            translateY = dragOffset.y + (clientY - dragStart.y);
            
            updateTransform();
        }

        function endDrag() {
            isDragging = false;
        }

        // Actualizar transformación
        function updateTransform() {
            canvas.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            
            // Redibujar conexiones después de la transformación
            setTimeout(drawConnections, 100);
        }

        // Resaltar resultados de búsqueda
        function highlightSearchResults(searchTerm) {
            // Limpiar destacados anteriores
            document.querySelectorAll('.highlighted').forEach(node => {
                node.classList.remove('highlighted');
            });

            if (searchTerm.length < 2) return;

            // Buscar en el nodo central
            if (mlopsData.central.title.toLowerCase().includes(searchTerm) ||
                mlopsData.central.subtitle.toLowerCase().includes(searchTerm)) {
                document.getElementById('central-mlops').classList.add('highlighted');
            }

            // Buscar en ramas principales
            mlopsData.branches.forEach(branch => {
                if (branch.title.toLowerCase().includes(searchTerm) ||
                    branch.description.toLowerCase().includes(searchTerm)) {
                    document.getElementById(branch.id)?.classList.add('highlighted');
                }

                // Buscar en sub-ramas
                branch.subBranches.forEach(subBranch => {
                    if (subBranch.title.toLowerCase().includes(searchTerm) ||
                        subBranch.description.toLowerCase().includes(searchTerm)) {
                        // Expandir la rama si no está expandida
                        if (!expandedBranches.has(branch.id)) {
                            expandBranch(branch.id);
                        }
                        setTimeout(() => {
                            document.getElementById(subBranch.id)?.classList.add('highlighted');
                        }, 500);
                    }
                });
            });
        }

        // Función para exportar el mapa mental (futura implementación)
        function exportMindMap() {
            // Implementación futura para exportar como imagen o JSON
            console.log('Exportar mapa mental');
        }

        // Función para importar datos (futura implementación)
        function importData() {
            // Implementación futura para importar datos personalizados
            console.log('Importar datos');
        }

    </script>
</body>
</html>